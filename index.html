<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12 Coins Challenge</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            user-select: none;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        
        .coin {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: grab;
        }
        
        .coin:active {
            cursor: grabbing;
            transform: scale(1.05);
            z-index: 1000;
        }
        
        .coin.dragging {
            z-index: 1000;
            transform: rotate(3deg) scale(1.1);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }
        
        .scale-pan {
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .scale-beam {
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .coin-slot {
            transition: all 0.2s ease;
        }
        
        .coin-slot.drop-target {
            background-color: rgba(99, 102, 241, 0.1);
            border-color: #6366f1;
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
        }
        
        @keyframes coinDrop {
            0% { transform: translateY(-8px) rotate(0deg); opacity: 0.8; }
            50% { transform: translateY(3px) rotate(180deg); opacity: 1; }
            100% { transform: translateY(0) rotate(360deg); opacity: 1; }
        }
        
        .coin-dropping {
            animation: coinDrop 0.4s ease-out;
        }
        
        @keyframes scaleOscillate {
            0%, 100% { transform: translateX(-50%) rotate(var(--rotation, 0deg)); }
            25% { transform: translateX(-50%) rotate(calc(var(--rotation, 0deg) + 1deg)); }
            75% { transform: translateX(-50%) rotate(calc(var(--rotation, 0deg) - 1deg)); }
        }
        
        .scale-oscillating {
            animation: scaleOscillate 1s ease-in-out;
        }

        @keyframes latchEngage {
            0% { transform: translateX(-50%) translateY(2px) rotate(0deg); }
            50% { transform: translateX(-50%) translateY(-2px) rotate(45deg); }
            100% { transform: translateX(-50%) translateY(0px) rotate(0deg); }
        }

        @keyframes latchRelease {
            0% { transform: translateX(-50%) translateY(0px) rotate(0deg); }
            50% { transform: translateX(-50%) translateY(-3px) rotate(-45deg); }
            100% { transform: translateX(-50%) translateY(2px) rotate(0deg); }
        }

        .latch-engaging {
            animation: latchEngage 0.6s ease-out;
        }

        .latch-releasing {
            animation: latchRelease 0.6s ease-out;
        }

        .selection-shelf {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            border: 3px solid #6d28d9;
        }

        .scale-base {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
        }

        .scale-beam {
            background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
        }

        .coin {
            background: linear-gradient(135deg, #f6ad55 0%, #ed8936 50%, #d69e2e 100%);
            box-shadow: 
                inset 0 1px 3px rgba(255, 255, 255, 0.3),
                0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .scale-pan {
            background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e0 100%);
            border: 2px solid #a0aec0;
        }
    </style>
</head>
<body class="min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useCallback } = React;

        const CoinGame = () => {
            const [weighings, setWeighings] = useState(0);
            const [coins, setCoins] = useState([]);
            const [fakeCoin, setFakeCoin] = useState(null);
            const [fakeWeight, setFakeWeight] = useState(null);
            const [scaleRotation, setScaleRotation] = useState(0);
            const [isOscillating, setIsOscillating] = useState(false);
            const [draggedCoin, setDraggedCoin] = useState(null);
            const [dropTargets, setDropTargets] = useState({ left: false, right: false, selection: false });
            const [gameState, setGameState] = useState('playing');
            const [scaleLocked, setScaleLocked] = useState(true); // Latch is engaged by default
            const [turnPhase, setTurnPhase] = useState('setup'); // 'setup', 'measured', 'ready'
            const [latchAnimating, setLatchAnimating] = useState(false);
            const [selectedCoin, setSelectedCoin] = useState(null); // Coin placed on selection shelf
            
            const scaleRef = useRef(null);

            // Initialize 12 individual coins with positions
            useEffect(() => {
                const initialCoins = Array.from({length: 12}, (_, i) => ({
                    id: i + 1,
                    number: i + 1,
                    position: 'available' // 'available', 'left', 'right'
                }));
                setCoins(initialCoins);
                
                const randomFake = Math.floor(Math.random() * 12) + 1;
                const randomWeight = Math.random() < 0.5 ? 'lighter' : 'heavier';
                setFakeCoin(randomFake);
                setFakeWeight(randomWeight);
            }, []);

            // Real balance scale physics with latch mechanism
            const calculateScalePhysics = useCallback(() => {
                if (!fakeCoin || !fakeWeight) return; // Wait for game initialization
                
                // If scale is locked (latch engaged), keep it level
                if (scaleLocked) {
                    setScaleRotation(0);
                    return { leftWeight: 0, rightWeight: 0, rotation: 0 };
                }
                
                // Filter coins directly from current state
                const leftCoins = coins.filter(coin => coin.position === 'left');
                const rightCoins = coins.filter(coin => coin.position === 'right');
                
                // Calculate accurate weights including fake coin physics
                const leftWeight = leftCoins.reduce((sum, coin) => {
                    if (coin.number === fakeCoin) {
                        return sum + (fakeWeight === 'lighter' ? 0.9 : 1.1);
                    }
                    return sum + 1;
                }, 0);

                const rightWeight = rightCoins.reduce((sum, coin) => {
                    if (coin.number === fakeCoin) {
                        return sum + (fakeWeight === 'lighter' ? 0.9 : 1.1);
                    }
                    return sum + 1;
                }, 0);

                // Real balance scale physics: binary tilt based on weight difference
                const weightDiff = leftWeight - rightWeight;
                const maxTilt = 25; // Full tilt angle
                
                let rotation = 0;
                if (weightDiff > 0.01) {
                    // Left side heavier - tilt left down (negative rotation)
                    rotation = -maxTilt;
                } else if (weightDiff < -0.01) {
                    // Right side heavier - tilt right down (positive rotation)
                    rotation = maxTilt;
                } else {
                    // Perfectly balanced
                    rotation = 0;
                }
                
                setScaleRotation(rotation);
                
                // Visual feedback with oscillation
                setIsOscillating(true);
                setTimeout(() => setIsOscillating(false), 1000);

                return { leftWeight, rightWeight, rotation };
            }, [coins, fakeCoin, fakeWeight, scaleLocked]);

            // Reactive physics: automatically update when coins or latch state changes
            useEffect(() => {
                calculateScalePhysics();
            }, [calculateScalePhysics]);

            // Handle drag start (only if not in measured phase)
            const handleDragStart = (e, coin) => {
                if (turnPhase === 'measured') {
                    e.preventDefault();
                    return;
                }
                
                setDraggedCoin(coin);
                e.dataTransfer.effectAllowed = 'move';
                e.dataTransfer.setData('text/plain', '');
                
                setTimeout(() => {
                    if (e.target) {
                        e.target.classList.add('dragging');
                    }
                }, 0);
            };

            // Handle drag over
            const handleDragOver = (e, target) => {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
                
                setDropTargets(prev => ({
                    ...prev,
                    [target]: true
                }));
            };

            // Handle drag leave
            const handleDragLeave = (e, target) => {
                setDropTargets(prev => ({
                    ...prev,
                    [target]: false
                }));
            };

            // Handle drop with immediate physics
            const handleDrop = (e, targetPosition) => {
                e.preventDefault();
                if (!draggedCoin) return;

                // Remove dragging effect
                document.querySelectorAll('.coin').forEach(coin => {
                    coin.classList.remove('dragging');
                });

                // Handle selection shelf specially
                if (targetPosition === 'selection') {
                    // If there's already a selected coin, put it back in available coins
                    if (selectedCoin) {
                        setCoins(prevCoins => [...prevCoins, { ...selectedCoin, position: 'available' }]);
                    }
                    
                    // Set new selected coin and remove from game
                    setSelectedCoin(draggedCoin);
                    setCoins(prevCoins => 
                        prevCoins.filter(coin => coin.id !== draggedCoin.id)
                    );
                } else {
                    // Handle dragging from selection shelf back to game
                    if (draggedCoin === selectedCoin) {
                        setSelectedCoin(null);
                        setCoins(prevCoins => [...prevCoins, { ...draggedCoin, position: targetPosition }]);
                    } else {
                        // Don't move if dropping in same position
                        if (draggedCoin.position === targetPosition) {
                            setDraggedCoin(null);
                            setDropTargets({ left: false, right: false, selection: false });
                            return;
                        }

                        // Normal position update
                        setCoins(prevCoins => 
                            prevCoins.map(coin => 
                                coin.id === draggedCoin.id 
                                    ? { ...coin, position: targetPosition }
                                    : coin
                            )
                        );
                    }
                }

                setDraggedCoin(null);
                setDropTargets({ left: false, right: false, selection: false });

                // Physics will be calculated automatically by useEffect when coins state changes!
            };

            // Release the latch to perform measurement
            const performMeasurement = () => {
                const leftCoins = coins.filter(coin => coin.position === 'left');
                const rightCoins = coins.filter(coin => coin.position === 'right');
                if (leftCoins.length === 0 && rightCoins.length === 0) {
                    return;
                }
                
                setLatchAnimating(true);
                setTimeout(() => setLatchAnimating(false), 600);
                
                setScaleLocked(false); // Release latch - scale will now show result
                setTurnPhase('measured');
                setWeighings(prev => prev + 1);
            };

            // Prepare for next turn
            const nextTurn = () => {
                setLatchAnimating(true);
                setTimeout(() => setLatchAnimating(false), 600);
                
                setScaleLocked(true); // Engage latch - scale returns to neutral
                setTurnPhase('setup');
                setScaleRotation(0); // Force neutral position
            };

            const clearScale = () => {
                setCoins(prevCoins => 
                    prevCoins.map(coin => 
                        coin.position === 'left' || coin.position === 'right'
                            ? { ...coin, position: 'available' }
                            : coin
                    )
                );
                setScaleRotation(0);
            };

            const resetGame = () => {
                const initialCoins = Array.from({length: 12}, (_, i) => ({
                    id: i + 1,
                    number: i + 1,
                    position: 'available'
                }));
                setCoins(initialCoins);
                setWeighings(0);
                setScaleRotation(0);
                setGameState('playing');
                setScaleLocked(true);
                setTurnPhase('setup');
                setSelectedCoin(null);
                
                const randomFake = Math.floor(Math.random() * 12) + 1;
                const randomWeight = Math.random() < 0.5 ? 'lighter' : 'heavier';
                setFakeCoin(randomFake);
                setFakeWeight(randomWeight);
            };

            const selectFakeCoin = () => {
                if (weighings === 0 || !selectedCoin) return;

                if (selectedCoin.number === fakeCoin) {
                    setGameState('won');
                } else {
                    setGameState('lost');
                }
            };

            return (
                <div className="min-h-screen flex">
                    {/* Main Game Area */}
                    <div className="flex-1 p-6 flex flex-col">
                        {/* Header */}
                        <div className="text-center mb-6">
                            <h1 className="text-3xl font-light text-gray-800 mb-2">12 Coins Logic Puzzle</h1>
                            <div className="flex justify-center items-center space-x-6">
                                <span className="text-lg text-gray-700">Weighings: <span className="font-semibold">{weighings}/3</span></span>
                                <button 
                                    onClick={resetGame}
                                    className="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"
                                >
                                    New Game
                                </button>
                            </div>
                        </div>

                        {/* Game Result */}
                        {(gameState === 'won' || gameState === 'lost') && (
                            <div className="text-center mb-8">
                                <div className={`inline-block px-8 py-4 rounded-lg ${gameState === 'won' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
                                    <h2 className="text-xl font-semibold mb-1">
                                        {gameState === 'won' ? 'Correct!' : 'Incorrect'}
                                    </h2>
                                    <p>
                                        The different coin was #{fakeCoin} ({fakeWeight})
                                    </p>
                                </div>
                            </div>
                        )}

                        {/* Available Coins */}
                        <div className="bg-white rounded-2xl shadow-xl p-6 mb-6">
                            <div 
                                className="p-6 border-2 border-dashed border-gray-300 rounded-xl coin-slot"
                                onDragOver={(e) => handleDragOver(e, 'available')}
                                onDragLeave={(e) => handleDragLeave(e, 'available')}
                                onDrop={(e) => handleDrop(e, 'available')}
                            >
                                <div className="grid grid-cols-6 sm:grid-cols-8 lg:grid-cols-12 gap-4 justify-items-center">
                                    {coins.filter(coin => coin.position === 'available').map(coin => (
                                        <div
                                            key={coin.id}
                                            className={`w-14 h-14 coin rounded-full border-2 border-yellow-600 flex items-center justify-center font-bold text-gray-800 shadow-lg hover:shadow-xl ${turnPhase === 'measured' ? 'opacity-50 cursor-not-allowed' : ''}`}
                                            draggable={turnPhase !== 'measured'}
                                            onDragStart={(e) => handleDragStart(e, coin)}
                                            onClick={() => null}
                                        >
                                            {coin.number}
                                        </div>
                                    ))}
                                </div>
                                
                                {coins.filter(coin => coin.position === 'available').length === 0 && (
                                    <div className="text-center text-gray-500 py-8">
                                        <p>Drag coins back here to return them</p>
                                    </div>
                                )}
                            </div>
                        </div>

                        {/* Scale and Selection Area */}
                        <div className="flex-1 grid grid-cols-12 gap-6">
                            {/* Balance Scale */}
                            <div className="col-span-8">
                                <div className="bg-white rounded-2xl shadow-xl p-8 h-full">
                                    <div className="flex justify-center items-center mb-8">
                                        <div className="relative">
                                            {/* Scale Base */}
                                            <div className="w-8 h-48 scale-base mx-auto rounded-t-lg shadow-lg relative">
                                                {/* Latch Mechanism with Fixed Animation */}
                                                <div className={`absolute -top-2 left-1/2 transform -translate-x-1/2 w-6 h-6 rounded-full shadow-md transition-all duration-300 ${scaleLocked ? 'bg-red-500' : 'bg-green-500'} ${latchAnimating ? (scaleLocked ? 'latch-engaging' : 'latch-releasing') : ''}`}>
                                                    <div className={`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full ${scaleLocked ? 'bg-red-700' : 'bg-green-700'}`}></div>
                                                </div>
                                            </div>
                                    
                                    {/* Scale Beam */}
                                    <div 
                                        ref={scaleRef}
                                        className={`absolute top-16 left-1/2 w-[30rem] h-4 scale-beam rounded-full shadow-md ${isOscillating ? 'scale-oscillating' : ''}`}
                                        style={{ 
                                            transform: `translateX(-50%) rotate(${scaleRotation}deg)`,
                                            '--rotation': `${scaleRotation}deg`
                                        }}
                                    >
                                        {/* Left Pan */}
                                        <div 
                                            className={`absolute -left-24 -top-12 w-48 h-24 scale-pan rounded-xl coin-slot shadow-lg ${dropTargets.left ? 'drop-target' : ''}`}
                                            onDragOver={(e) => handleDragOver(e, 'left')}
                                            onDragLeave={(e) => handleDragLeave(e, 'left')}
                                            onDrop={(e) => handleDrop(e, 'left')}
                                        >
                                            <div className="flex flex-wrap items-center justify-center h-full p-3 gap-2">
                                                {coins.filter(coin => coin.position === 'left').map((coin) => (
                                                    <div
                                                        key={`left-${coin.id}`}
                                                        className={`w-10 h-10 coin rounded-full text-sm flex items-center justify-center font-bold text-gray-800 coin-dropping shadow-lg border border-yellow-600 ${turnPhase === 'measured' ? 'opacity-50 cursor-not-allowed' : ''}`}
                                                        draggable={turnPhase !== 'measured'}
                                                        onDragStart={(e) => handleDragStart(e, coin)}
                                                    >
                                                        {coin.number}
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                        
                                        {/* Right Pan */}
                                        <div 
                                            className={`absolute -right-24 -top-12 w-48 h-24 scale-pan rounded-xl coin-slot shadow-lg ${dropTargets.right ? 'drop-target' : ''}`}
                                            onDragOver={(e) => handleDragOver(e, 'right')}
                                            onDragLeave={(e) => handleDragLeave(e, 'right')}
                                            onDrop={(e) => handleDrop(e, 'right')}
                                        >
                                            <div className="flex flex-wrap items-center justify-center h-full p-3 gap-2">
                                                {coins.filter(coin => coin.position === 'right').map((coin) => (
                                                    <div
                                                        key={`right-${coin.id}`}
                                                        className={`w-10 h-10 coin rounded-full text-sm flex items-center justify-center font-bold text-gray-800 coin-dropping shadow-lg border border-yellow-600 ${turnPhase === 'measured' ? 'opacity-50 cursor-not-allowed' : ''}`}
                                                        draggable={turnPhase !== 'measured'}
                                                        onDragStart={(e) => handleDragStart(e, coin)}
                                                    >
                                                        {coin.number}
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        {/* Scale Fulcrum */}
                                        <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-gray-800 rounded-full shadow-md"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="flex justify-center space-x-4">
                                {turnPhase === 'setup' && (
                                    <>
                                        <button 
                                            onClick={performMeasurement}
                                            disabled={coins.filter(coin => coin.position === 'left').length === 0 && coins.filter(coin => coin.position === 'right').length === 0}
                                            className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition-colors shadow-md"
                                        >
                                            ðŸ”“ Release Latch & Measure
                                        </button>
                                        <button 
                                            onClick={clearScale}
                                            className="px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors shadow-md"
                                        >
                                            Clear Scale
                                        </button>
                                    </>
                                )}
                                
                                {turnPhase === 'measured' && (
                                    <div className="text-center">
                                        <div className="mb-4">
                                            <div className="inline-block px-4 py-2 bg-green-100 text-green-800 rounded-lg mb-3">
                                                âœ… Measurement #{weighings} Complete
                                            </div>
                                            <p className="text-gray-600 text-sm">
                                                Scale result revealed! Coins are locked until next turn.
                                            </p>
                                        </div>
                                        <button 
                                            onClick={nextTurn}
                                            className="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-md"
                                        >
                                            ðŸ”’ Ready for Next Turn
                                        </button>
                                    </div>
                                )}
                            </div>
                            </div>
                        </div>

                        {/* Selection Shelf */}
                        <div className="col-span-4">
                            <div className="bg-white rounded-2xl shadow-xl p-6 h-full">
                                <h3 className="text-center font-semibold text-purple-900 mb-4">ðŸŽ¯ Final Guess</h3>
                                <div 
                                    className={`selection-shelf rounded-xl p-8 min-h-[200px] flex flex-col items-center justify-center coin-slot ${dropTargets.selection ? 'drop-target' : ''}`}
                                    onDragOver={(e) => handleDragOver(e, 'selection')}
                                    onDragLeave={(e) => handleDragLeave(e, 'selection')}
                                    onDrop={(e) => handleDrop(e, 'selection')}
                                >
                                    {selectedCoin ? (
                                        <div className="text-center">
                                            <div
                                                className="w-16 h-16 coin rounded-full border-2 border-yellow-600 flex items-center justify-center font-bold text-gray-800 shadow-lg mb-4 mx-auto"
                                                draggable={turnPhase !== 'measured'}
                                                onDragStart={(e) => handleDragStart(e, selectedCoin)}
                                            >
                                                {selectedCoin.number}
                                            </div>
                                            <p className="text-white text-sm mb-4">Coin #{selectedCoin.number}</p>
                                            {weighings > 0 && (
                                                <button 
                                                    onClick={selectFakeCoin}
                                                    className="px-4 py-2 bg-yellow-500 text-black font-semibold rounded-lg hover:bg-yellow-400 transition-colors shadow-md"
                                                >
                                                    Submit as Fake
                                                </button>
                                            )}
                                        </div>
                                    ) : (
                                        <div className="text-center">
                                            <div className="text-white text-opacity-70 mb-2 text-2xl">ðŸŽ²</div>
                                            <p className="text-white text-opacity-90 text-sm">
                                                Drag suspected<br/>fake coin here
                                            </p>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                {/* Right Sidebar */}
                <div className="w-80 bg-gray-100 p-6 overflow-y-auto">
                    <div className="space-y-6">
                        {/* Mission */}
                        <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <h2 className="text-lg font-semibold text-blue-900 mb-3">ðŸŽ¯ Your Mission</h2>
                            <p className="text-blue-800 text-sm">
                                Among these 12 coins, exactly <strong>one has a different weight</strong> 
                                (lighter or heavier). Find it in <strong>3 weighings or fewer</strong>.
                            </p>
                        </div>
                        
                        {/* Scale Instructions */}
                        <div className="bg-gray-50 border border-gray-200 rounded-lg p-4">
                            <h3 className="text-md font-semibold text-gray-900 mb-3">ðŸ“‹ How to Use Scale</h3>
                            <div className="space-y-3 text-sm text-gray-700">
                                <div>
                                    <h4 className="font-medium text-gray-900 mb-1">ðŸ”’ Setup Phase:</h4>
                                    <ul className="space-y-1 text-xs">
                                        <li>â€¢ Red latch = Scale locked</li>
                                        <li>â€¢ Drag coins to left/right pans</li>
                                        <li>â€¢ Arrange without seeing result</li>
                                        <li>â€¢ Click "Release Latch" when ready</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 className="font-medium text-gray-900 mb-1">ðŸ”“ Measurement Phase:</h4>
                                    <ul className="space-y-1 text-xs">
                                        <li>â€¢ Green latch = Scale shows result</li>
                                        <li>â€¢ Coins locked (no interaction)</li>
                                        <li>â€¢ Study tilt direction</li>
                                        <li>â€¢ Click "Ready for Next Turn"</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        {/* Final Selection */}
                        <div className="bg-purple-50 border border-purple-200 rounded-lg p-4">
                            <h3 className="text-md font-semibold text-purple-900 mb-2">ðŸŽ² Final Selection</h3>
                            <p className="text-purple-800 text-sm">
                                When ready, drag your suspected fake coin to the purple shelf 
                                and click <strong>"Submit as Fake"</strong>. You can move it freely 
                                until you submit.
                            </p>
                        </div>

                        {/* Game Status */}
                        <div className="bg-white border border-gray-200 rounded-lg p-4">
                            <h3 className="text-md font-semibold text-gray-900 mb-2">ðŸ“Š Game Status</h3>
                            <div className="space-y-2 text-sm">
                                <div className="flex justify-between">
                                    <span>Weighings used:</span>
                                    <span className="font-semibold">{weighings}/3</span>
                                </div>
                                <div className="flex justify-between">
                                    <span>Phase:</span>
                                    <span className={`font-semibold ${turnPhase === 'setup' ? 'text-red-600' : 'text-green-600'}`}>
                                        {turnPhase === 'setup' ? 'Setup' : 'Measured'}
                                    </span>
                                </div>
                                <div className="flex justify-between">
                                    <span>Scale:</span>
                                    <span className={`font-semibold ${scaleLocked ? 'text-red-600' : 'text-green-600'}`}>
                                        {scaleLocked ? 'Locked' : 'Active'}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            );
        };

        ReactDOM.render(<CoinGame />, document.getElementById('root'));
    </script>
</body>
</html>